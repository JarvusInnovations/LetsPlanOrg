{"config":{"lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Welcome \u00b6 This will be the home of LetsPlan.org\u2019s technical documentation.","title":"Welcome"},{"location":"#welcome","text":"This will be the home of LetsPlan.org\u2019s technical documentation.","title":"Welcome"},{"location":"operations/k8s/","text":"Kubernetes \u00b6 Using deployer-admin service account \u00b6 Download the letsplan-deployer.yaml attachment from the letsplan-deployer @ jarvus-live-cluster secret in BitWarden into your ~/.kube directory Activate the downloaded KUBECONFIG in your current terminal session: export KUBECONFIG = ~/.kube/letsplan-deployer.yaml Get the name of the currently running pods and store them in shell variables: APP_POD = $( kubectl get pod -l component = app -o jsonpath = '{.items[0].metadata.name}' ) DB_POD = $( kubectl get pod -l component = database -o jsonpath = '{.items[0].metadata.name}' ) Open interactive app shell \u00b6 kubectl exec -it $APP_POD -- bash Open interactive database shell \u00b6 kubectl exec -it $DB_POD -- psql -U admin laravel Run an artisan command \u00b6 kubectl exec -it $APP_POD -- php artisan migrate Run an SQL query \u00b6 echo 'SELECT * FROM users' | kubectl exec -i $DB_POD -- psql -U admin laravel Forward PostgreSQL port \u00b6 kubectl port-forward pods/ $DB_POD 5432 :5432 Database logins Default database credentials can be found in helm-chart/values.yaml","title":"Kubernetes"},{"location":"operations/k8s/#kubernetes","text":"","title":"Kubernetes"},{"location":"operations/k8s/#using-deployer-admin-service-account","text":"Download the letsplan-deployer.yaml attachment from the letsplan-deployer @ jarvus-live-cluster secret in BitWarden into your ~/.kube directory Activate the downloaded KUBECONFIG in your current terminal session: export KUBECONFIG = ~/.kube/letsplan-deployer.yaml Get the name of the currently running pods and store them in shell variables: APP_POD = $( kubectl get pod -l component = app -o jsonpath = '{.items[0].metadata.name}' ) DB_POD = $( kubectl get pod -l component = database -o jsonpath = '{.items[0].metadata.name}' )","title":"Using deployer-admin service account"},{"location":"operations/k8s/#open-interactive-app-shell","text":"kubectl exec -it $APP_POD -- bash","title":"Open interactive app shell"},{"location":"operations/k8s/#open-interactive-database-shell","text":"kubectl exec -it $DB_POD -- psql -U admin laravel","title":"Open interactive database shell"},{"location":"operations/k8s/#run-an-artisan-command","text":"kubectl exec -it $APP_POD -- php artisan migrate","title":"Run an artisan command"},{"location":"operations/k8s/#run-an-sql-query","text":"echo 'SELECT * FROM users' | kubectl exec -i $DB_POD -- psql -U admin laravel","title":"Run an SQL query"},{"location":"operations/k8s/#forward-postgresql-port","text":"kubectl port-forward pods/ $DB_POD 5432 :5432 Database logins Default database credentials can be found in helm-chart/values.yaml","title":"Forward PostgreSQL port"}]}